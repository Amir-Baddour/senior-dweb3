<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Admin Dashboard</title>

    <link rel="stylesheet" href="css/style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="js/config.js?v=15"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
    <script src="js/logout.js?v=1.0" defer></script>
    <script src="js/analytics.js" defer></script>
    <script src="js/reports.js" defer></script>
  </head>

  <body class="dashboard-page">
    <header class="dashboard-header" aria-label="Admin header">
      <h1 class="dashboard-title">Dashboard</h1>
      <nav class="dashboard-btn-group" aria-label="Primary actions">
        <a class="btn" href="verification_requests.html">Verification Requests</a>
        <a class="reject-btn" href="#" onclick="logout(); return false;">Logout</a>
      </nav>
    </header>

    <main class="analytics-container">
      <!-- Filters -->
      <section class="a-card" aria-labelledby="filters-title">
        <h2 id="filters-title" class="section-title">Filters</h2>
        <div class="a-row">
          <div class="a-col">
            <label for="fromDate">From</label>
            <input id="fromDate" type="date" />
          </div>
          <div class="a-col">
            <label for="toDate">To</label>
            <input id="toDate" type="date" />
          </div>
          <div class="a-actions" role="group" aria-label="Filter actions">
            <button id="applyFilters" class="btn" type="button">Apply</button>
            <button id="resetFilters" class="btn-outline" type="button">Reset</button>
          </div>
        </div>
      </section>

      <!-- KPIs -->
      <section class="kpi-grid" aria-label="Key performance indicators">
        <article class="kpi-card" aria-live="polite">
          <div class="kpi-title">Total Users</div>
          <div id="kpiTotalUsers" class="kpi-value">—</div>
        </article>
        <article class="kpi-card" aria-live="polite">
          <div class="kpi-title">New Users (7d)</div>
          <div id="kpiNewUsers7d" class="kpi-value">—</div>
        </article>
        <article class="kpi-card" aria-live="polite">
          <div class="kpi-title">Tx Volume (range)</div>
          <div id="kpiTxVolume" class="kpi-value">—</div>
        </article>
        <article class="kpi-card" aria-live="polite">
          <div class="kpi-title">Tx Count (range)</div>
          <div id="kpiTxCount" class="kpi-value">—</div>
        </article>
      </section>

      <!-- Charts row 1 -->
      <section class="a-grid-2" aria-label="Analytics charts row 1">
        <article class="a-card">
          <h2 class="section-title">User Growth (Daily)</h2>
          <div class="chart-wrap">
            <canvas id="userGrowthChart" aria-label="New users per day"></canvas>
          </div>
        </article>
        <article class="a-card">
          <h2 class="section-title">Transaction Volume (Daily)</h2>
          <div class="chart-wrap">
            <canvas id="txVolumeChart" aria-label="Daily transaction volume"></canvas>
          </div>
        </article>
      </section>

      <!-- Charts row 2 -->
      <section class="a-grid-2" aria-label="Analytics charts row 2">
        <article class="a-card">
          <h2 class="section-title">Transactions by Type</h2>
          <div class="chart-wrap">
            <canvas id="txTypeChart" aria-label="Transactions grouped by type"></canvas>
          </div>
        </article>
        <article class="a-card">
          <h2 class="section-title">Top Types (by Volume)</h2>
          <div class="chart-wrap">
            <canvas id="topCoinsChart" aria-label="Top transaction types by volume"></canvas>
          </div>
        </article>
      </section>

      <!-- Reporting -->
      <section class="a-card" aria-labelledby="reporting-title">
        <h2 id="reporting-title" class="section-title">Reporting</h2>
        <div class="a-row">
          <div class="a-col">
            <label for="reportType">Report</label>
            <select id="reportType">
              <option value="transactions">Transactions (detailed)</option>
              <option value="users">Users (growth)</option>
            </select>
          </div>
          <div class="a-col">
            <label for="reportFrom">From</label>
            <input id="reportFrom" type="date" />
          </div>
          <div class="a-col">
            <label for="reportTo">To</label>
            <input id="reportTo" type="date" />
          </div>
          <div class="a-actions" role="group" aria-label="Export actions">
            <button id="exportCsv" class="btn" type="button">Export CSV</button>
            <button id="exportPdf" class="btn-outline" type="button">Export PDF</button>
          </div>
        </div>
      </section>
    </main>
  </body>
</html>